<!doctype html>
<html lang="{{ site.lang | default: "en-US" }}" class="{% if jekyll.environment == 'development' %}debug-active{% endif %}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="base-url" content="{{ site.baseurl }}">

{% seo %}
    <!-- Fallback inline styles in case external CSS fails to load -->
    {% include fallback-styles.html %}
    
    <!-- Base CSS that works across browsers with no preprocessing -->
    <link rel="stylesheet" href="{{ '/assets/css/base.css' | relative_url }}?v={{ site.time | date: '%s' }}">
    
    <!-- Direct CSS file that doesn't require SCSS processing -->
    <link rel="stylesheet" href="{{ '/assets/css/direct.css' | relative_url }}?v={{ site.time | date: '%s' }}">
    
    <!-- Standard theme styles -->
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}?v={{ site.time | date: '%s' }}">
    <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}?v={{ site.time | date: '%s' }}">
    
    <!-- Debug styles for development only -->
    {% if jekyll.environment == 'development' %}
    <link rel="stylesheet" href="{{ '/assets/css/debug.css' | relative_url }}?v={{ site.time | date: '%s' }}">
    {% endif %}
    
    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <script src="{{ '/assets/js/respond.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/fix-cors.js' | relative_url }}?v={{ site.time | date: '%s' }}"></script>
    <script src="{{ '/assets/js/inline-styles.js' | relative_url }}?v={{ site.time | date: '%s' }}"></script>
    
    <!-- Font Awesome from CDN with crossorigin attribute -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="{{ '/assets/css/ie.css' | relative_url }}">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    
    <!-- Custom head includes -->
    {% include head-custom.html %}
    
    <!-- Critical inline CSS - absolute minimum styles -->
    <style>
      body {background-color: #252525; color: #f0e7d5;}
      #header {background-color: #111; border-bottom: 4px solid #2c2c2c;}
      a {color: #ffcc00;}
      h1 {color: #ffcc00;}
    </style>
  </head>
  <body>
      <div id="header">
        <nav>
          <ul>
            <li class="site-title"><a href="{{ '/' | relative_url }}">{{ site.title }}</a></li>
            <li><a href="{{ '/categories/technology' | relative_url }}">Technology</a></li>
            <li><a href="{{ '/categories/programming' | relative_url }}">Programming</a></li>
            <li><a href="{{ '/categories/ai' | relative_url }}">AI</a></li>
            <li><a href="{{ '/categories/tools' | relative_url }}">Tools</a></li>
            <li><a href="{{ '/about' | relative_url }}">About</a></li>
          </ul>
        </nav>
      </div><!-- end header -->

    <div class="page-container{% unless site.show_ads %} no-ads{% endunless %}">
      {% if site.show_ads %}
      <!-- Left sidebar for banner ads -->
      <div class="banner-left">
        <div class="ad-container">
          <!-- Banner Ad Space -->
          <div class="banner-ad">{{ site.left_ad_content | default: "Ad Space" }}</div>
        </div>
      </div>
      {% endif %}
      
      <div class="wrapper">
        <section>
          <div id="title">
            <h1>{{ page.title | default: site.title }}</h1>
            {% if page.description %}
              <p>{{ page.description }}</p>
            {% elsif site.description %}  
              <p>{{ site.description }}</p>
            {% endif %}
            <hr>
          </div>

          {{ content }}

        </section>
      </div>
      
      {% if site.show_ads %}
      <!-- Right sidebar for banner ads -->
      <div class="banner-right">
        <div class="ad-container">
          <!-- Banner Ad Space -->
          <div class="banner-ad">{{ site.right_ad_content | default: "Ad Space" }}</div>
        </div>
      </div>
      {% endif %}
    </div>

    <footer>
      <div class="wrapper">
        <p>&copy; {{ site.time | date: '%Y' }} {{ site.title }}. All rights reserved.</p>
      </div>
    </footer>

    {% if jekyll.environment == 'development' %}
    <!-- Debug info in development mode -->
    <div style="position:fixed; bottom:0; right:0; background:black; color:lime; padding:10px; font-family:monospace; z-index:9999;">
      <p>Debug Mode Active</p>
      <p>Base URL: {{ site.baseurl }}</p>
      <p>URL: {{ site.url }}</p>
      <p>Env: {{ jekyll.environment }}</p>
      <p>CSS: Base ({{ '/assets/css/base.css' | relative_url }})</p>
    </div>
    {% endif %}

    <!-- Browser console debug information -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        console.log('Debug: Page loaded');
        console.log('Base URL:', '{{ site.baseurl }}');
        console.log('Full URL:', '{{ site.url }}{{ site.baseurl }}');
        console.log('Environment:', '{{ jekyll.environment }}');
        
        // Check if CSS files are loaded
        const styleSheets = Array.from(document.styleSheets);
        console.log('Loaded StyleSheets:', styleSheets.map(s => s.href));
      });
    </script>
  </body>
</html>
